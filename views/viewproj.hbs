<!DOCTYPE html>
<html lang="en">
<head>    
  <meta charset="utf-8"/>
  <title>Home</title>
  <link rel="stylesheet" type="text/css" href="/css/style.css"/>
</head>
<body>
  <nav>
    <h4>Home</h4>
    <ul class="nav">
        <li><a href="/home">Home</a></li>
        <li><a href="/myproj">My Projects</a></li>
        <li><a href="/sharedproj">Shared Projects</a></li>
        <li><a href="/logout">Logout</a></li>
    </ul>
  </nav>
  <button type="button" class="login-button" onclick="location.href='/myproj'">Exit</button>
  <div id="proj">
  </div>
  {{#if project}}
    <script>
        var text = "{{project}}";
        var text = text.replace(/&quot;/g, '\"');
        var obj = JSON.parse(text);
        var project = obj[0];

        const div = document.getElementById('proj');
        div.setAttribute("class", "form")

        const Title = document.createElement("h1");
        Title.setAttribute("id", "title");
        Title.setAttribute("class", "login-title");

        const Desc = document.createElement("h3");
        Desc.setAttribute("id", "desc");
        Desc.setAttribute("class", "login-title");

        const Budget = document.createElement("h3");
        Budget.setAttribute("id", "budget");
        Budget.setAttribute("class", "login-title");

        const Progress = document.createElement("h3");
        Progress.setAttribute("id", "progress");
        Progress.setAttribute("class", "login-title");

        const grid = document.createElement("div");
        grid.setAttribute("class", "grid-container");

        const item1 = document.createElement("div");
        item1.setAttribute("class", "grid-item");
        item1.setAttribute("id", "grid-item1");

        const item2 = document.createElement("div");
        item2.setAttribute("class", "grid-item");
        item2.setAttribute("id", "grid-item2");

        const Start = document.createElement("h3");
        Start.setAttribute("id", "start");
        Start.setAttribute("class", "login-title");

        const Finish = document.createElement("h3");
        Finish.setAttribute("id", "finish");
        Finish.setAttribute("class", "login-title");

        div.appendChild(Title)
        div.appendChild(Desc)
        div.appendChild(Budget)
        div.appendChild(Progress)
        div.appendChild(grid)
        grid.appendChild(item1)
        grid.appendChild(item2)
        item1.appendChild(Start)
        item2.appendChild(Finish)
        document.getElementById("title").innerHTML = project.proj_name;
        document.getElementById("desc").innerHTML = project.proj_desc;
        document.getElementById("budget").innerHTML = "Budget: " +project.budget;
        document.getElementById("progress").innerHTML = "Progress: " +project.progress;
        document.getElementById("start").innerHTML = "Start: " +project.start_date.split('T')[0];
        document.getElementById("finish").innerHTML = "Finish: " +project.end_date.split('T')[0];

        function daysBetween(d1, d2) {
          d1 = new Date(d1);
          d2 = new Date(d2);
          return Math.round((d2 - d1) / (1000 * 60 * 60 * 24));
        }
    </script>
  {{/if}}
</body>